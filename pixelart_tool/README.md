# 像素艺术转换工具

一个功能强大的Python工具，可以将普通图像转换为像素艺术风格，并提供丰富的编辑和导出功能。

## 功能特性

### 🎨 图像处理核心
- **分辨率降低**: 将高分辨率图像转换为低分辨率像素艺术
- **颜色减少**: 支持8位/16位颜色调色板
- **抖动算法**: 实现Floyd-Steinberg等抖动算法

### 🖌️ 像素艺术效果
- **轮廓线**: 自动添加像素艺术轮廓
- **复古风格**: 模拟NES、Game Boy、街机等经典风格
- **实时预览**: 即时查看处理效果

### ✏️ 编辑功能
- **像素级编辑**: 铅笔、画笔、橡皮擦、填充工具
- **颜色选择器**: 支持自定义颜色选择
- **调色板管理**: 自动提取和管理颜色调色板
- **撤销/重做**: 完整的编辑历史管理

### 📤 导出与分享
- **多种格式**: 支持PNG、GIF格式导出
- **ASCII艺术**: 生成文本版本的像素艺术
- **动画制作**: 创建简单的像素艺术动画

## 安装说明

### 1. 创建虚拟环境
```bash
python -m venv pixelart_env
```

### 2. 激活虚拟环境
- Windows:
```bash
pixelart_env\Scripts\activate
```
- macOS/Linux:
```bash
source pixelart_env/bin/activate
```

### 3. 安装依赖
```bash
pip install -r requirements.txt
```

## 使用方法

### 启动工具
```bash
python main.py
```

### 基本操作流程

1. **打开图像**: 点击"文件"→"打开图像"选择要处理的图片
2. **调整参数**: 
   - 像素大小: 控制像素化程度
   - 颜色数量: 限制调色板颜色数
   - 启用抖动: 添加抖动效果减少色带
   - 添加轮廓: 增强像素艺术边缘
   - 选择风格: NES、Game Boy、街机等复古风格
3. **应用效果**: 点击"应用效果"按钮处理图像
4. **编辑图像**: 启用"编辑模式"进行像素级编辑
5. **保存/导出**: 使用文件菜单保存或导出结果

### 编辑工具说明

- **铅笔工具**: 绘制单个像素
- **画笔工具**: 绘制圆形区域（可调整大小）
- **橡皮擦**: 擦除像素（恢复为白色）
- **填充工具**: 区域填充（类似油漆桶）
- **颜色选择**: 点击"选择颜色"按钮或使用拾色器

## 项目结构

```
pixelart_tool/
├── main.py                 # 主程序入口
├── image_processor.py      # 图像处理核心
├── pixel_editor.py         # 像素编辑工具
├── export_manager.py       # 导出管理
├── gui/
│   └── pixel_art_gui.py    # GUI界面
├── requirements.txt        # 依赖包列表
└── README.md              # 说明文档
```

## 技术特性

### 图像处理算法
- **K-means聚类**: 用于颜色量化
- **Floyd-Steinberg抖动**: 减少颜色过渡的色带效应
- **边缘检测**: 自动生成轮廓线
- **颜色映射**: 支持自定义调色板映射

### 用户界面
- **tkinter**: 基于Python标准库的GUI框架
- **实时预览**: 即时显示处理效果
- **响应式设计**: 自适应窗口大小
- **直观操作**: 拖拽、点击等自然交互

### 文件格式支持
- **输入**: JPG、PNG、BMP、GIF、TIFF
- **输出**: PNG、GIF、ASCII文本

## 示例用法

### 命令行测试
```bash
python test_tool.py
```

### 创建复古游戏风格像素艺术
1. 打开一张普通照片
2. 设置像素大小为15-20
3. 选择颜色数量为16
4. 启用抖动和轮廓
5. 选择"NES"风格
6. 应用效果并保存

### 制作像素艺术动画
1. 创建基础像素艺术
2. 使用编辑工具制作多帧
3. 导出为GIF格式
4. 设置适当的帧延迟

## 常见问题

### Q: 处理大型图像时程序变慢？
A: 建议先缩小原图尺寸，或使用较小的像素大小参数。

### Q: 如何获得更好的像素艺术效果？
A: 尝试不同的参数组合：
- 较小的像素大小 + 较多的颜色
- 较大的像素大小 + 较少的颜色 + 抖动
- 启用轮廓线增强边缘效果

### Q: 支持批量处理吗？
A: 当前版本主要针对单张图像处理，可通过修改代码实现批量处理。

## 开发说明

### 扩展功能
要添加新的图像处理效果，可以修改 `image_processor.py` 中的 `process_image` 方法。

### 自定义工具
在 `pixel_editor.py` 中添加新的编辑工具方法，并在GUI中注册相应的事件处理。

### 添加导出格式
在 `export_manager.py` 中实现新的导出方法，支持更多文件格式。

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 贡献

欢迎提交Issue和Pull Request来改进这个工具！

---

**注意**: 这是一个教育性质的项目，适合学习图像处理和GUI开发。对于专业用途，建议使用专门的像素艺术软件。